---
title: API Overview
description: Integrate with the Opentribe REST API
---

import { CodeBlock } from 'fumadocs-ui/components/codeblock';
import { Tab, Tabs } from 'fumadocs-ui/components/tabs';
import { Callout } from 'fumadocs-ui/components/callout';

# API Overview

The Opentribe API allows you to programmatically interact with the platform to manage bounties, grants, RFPs, submissions, and more.

## Base URL

All API requests should be made to:

```
https://api.opentribe.io/api/v1
```

For local development:
```
http://localhost:3002/api/v1
```

## Authentication

The Opentribe API uses Better Auth for authentication. Most endpoints require a valid session.

### Obtaining a Session

<Tabs>
<Tab value="email" label="Email/Password">

```typescript
POST /api/auth/sign-in/email
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "your-password"
}
```

</Tab>

<Tab value="oauth" label="OAuth">

For Google/GitHub OAuth:

```typescript
// Redirect user to:
GET /api/auth/sign-in/google
// or
GET /api/auth/sign-in/github

// User will be redirected back with session
```

</Tab>
</Tabs>

### Using the Session

Include the session cookie in all authenticated requests:

```typescript
GET /api/v1/user/profile
Cookie: better-auth.session=<session-token>
```

<Callout type="info">
  Wallet addresses are regular profile fields (`PATCH /api/v1/user/profile`). Builders update them after signing in so organizations know where to send payments.
</Callout>

## Core Resources

### Bounties

Manage bounties - tasks with fixed rewards:

```typescript
GET    /api/v1/bounties           // List all bounties
GET    /api/v1/bounties/:id       // Get specific bounty
POST   /api/v1/bounties           // Create bounty (org only)
PUT    /api/v1/bounties/:id       // Update bounty
DELETE /api/v1/bounties/:id       // Delete bounty
```

### Grants

Manage grants - funding for larger projects:

```typescript
GET    /api/v1/grants             // List all grants
GET    /api/v1/grants/:id         // Get specific grant
POST   /api/v1/grants             // Create grant (org only)
PUT    /api/v1/grants/:id         // Update grant
DELETE /api/v1/grants/:id         // Delete grant
```

### RFPs

Request for Proposals from the community:

```typescript
GET    /api/v1/rfps               // List all RFPs
GET    /api/v1/rfps/:id           // Get specific RFP
POST   /api/v1/rfps               // Create RFP
PUT    /api/v1/rfps/:id           // Update RFP
DELETE /api/v1/rfps/:id           // Delete RFP
```

### Submissions

Work submitted to bounties:

```typescript
GET    /api/v1/submissions                    // List submissions
GET    /api/v1/submissions/:id                // Get submission
POST   /api/v1/bounties/:id/submissions       // Submit to bounty
PUT    /api/v1/submissions/:id                // Update submission
DELETE /api/v1/submissions/:id                // Delete submission
POST   /api/v1/submissions/:id/select-winner  // Select as winner
```

### Applications

Applications for grants:

```typescript
GET    /api/v1/applications              // List applications
GET    /api/v1/applications/:id          // Get application
POST   /api/v1/grants/:id/applications   // Apply to grant
PUT    /api/v1/applications/:id          // Update application
DELETE /api/v1/applications/:id          // Delete application
POST   /api/v1/applications/:id/approve  // Approve application
```

### Organizations

Manage organizations and teams:

```typescript
GET    /api/v1/organizations                  // List organizations
GET    /api/v1/organizations/:id              // Get organization
POST   /api/v1/organizations                  // Create organization
PUT    /api/v1/organizations/:id              // Update organization
DELETE /api/v1/organizations/:id              // Delete organization
GET    /api/v1/organizations/:id/members      // List members
POST   /api/v1/organizations/:id/invite       // Invite member
DELETE /api/v1/organizations/:id/members/:id  // Remove member
```

### Payments

Track and verify payments:

```typescript
POST   /api/v1/bounties/:id/payments    // Record payment
GET    /api/v1/payments/:id             // Get payment details
POST   /api/v1/payments/verify          // Verify transaction
GET    /api/v1/payments/history         // Payment history
```

## Request & Response Format

### Request Headers

```http
Content-Type: application/json
Accept: application/json
Cookie: better-auth.session=<token>
```

### Standard Response

All responses follow this format:

```json
{
  "success": true,
  "data": {
    // Resource data
  },
  "error": null
}
```

### Error Response

```json
{
  "success": false,
  "data": null,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "Invalid input",
    "details": {
      "field": "amount",
      "issue": "Must be greater than 0"
    }
  }
}
```

## Pagination

List endpoints support pagination:

```typescript
GET /api/v1/bounties?page=1&limit=20&sort=createdAt:desc

// Response
{
  "data": [...],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 145,
    "totalPages": 8
  }
}
```

## Filtering

Most list endpoints support filtering:

```typescript
// Filter bounties by status and skills
GET /api/v1/bounties?status=active&skills=rust,substrate

// Filter by organization
GET /api/v1/bounties?organizationId=org_123

// Filter by date range
GET /api/v1/bounties?createdAfter=2024-01-01&createdBefore=2024-12-31
```

## Search

Full-text search across resources:

```typescript
GET /api/v1/search?q=defi&type=bounty,grant

// Response
{
  "bounties": [...],
  "grants": [...],
  "totalResults": 42
}
```

## Rate Limiting

API requests are rate-limited to prevent abuse:

- **Authenticated**: 100 requests per minute
- **Unauthenticated**: 20 requests per minute

Rate limit headers:
```http
X-RateLimit-Limit: 100
X-RateLimit-Remaining: 95
X-RateLimit-Reset: 1701234567
```

## Webhooks

Subscribe to events (coming soon):

```typescript
POST /api/v1/webhooks
{
  "url": "https://your-app.com/webhook",
  "events": ["submission.created", "payment.verified"],
  "secret": "your-webhook-secret"
}
```

Available events:
- `bounty.created`
- `submission.created`
- `submission.selected`
- `payment.verified`
- `grant.approved`
- `rfp.voted`

## SDKs & Libraries

<Callout type="info">
  Official SDKs are coming soon. For now, use standard HTTP clients with the REST API.
</Callout>

### JavaScript/TypeScript Example

```typescript
// Using fetch
const response = await fetch('https://api.opentribe.io/api/v1/bounties', {
  headers: {
    'Content-Type': 'application/json',
    'Cookie': `better-auth.session=${sessionToken}`
  }
});

const { data } = await response.json();
```

### Python Example

```python
import requests

response = requests.get(
    'https://api.opentribe.io/api/v1/bounties',
    headers={
        'Content-Type': 'application/json',
        'Cookie': f'better-auth.session={session_token}'
    }
)

data = response.json()
```

## API Examples

### Create a Bounty

```typescript
POST /api/v1/bounties
{
  "title": "Build Substrate Pallet",
  "description": "Create a custom pallet for...",
  "reward": 1000,
  "token": "DOT",
  "skills": ["rust", "substrate"],
  "deadline": "2024-12-31T23:59:59Z",
  "maxWinners": 1
}
```

### Submit to a Bounty

```typescript
POST /api/v1/bounties/:id/submissions
{
  "content": "Here's my solution...",
  "links": [
    "https://github.com/user/repo",
    "https://demo.example.com"
  ],
  "walletAddress": "5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY"
}
```

### Record a Payment

```typescript
POST /api/v1/bounties/:id/payments
{
  "submissionId": "sub_123",
  "amount": 1000,
  "token": "DOT",
  "extrinsicHash": "0x123456...",
  "recipientAddress": "5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY"
}
```

### Verify a Payment

```typescript
POST /api/v1/payments/verify
{
  "extrinsicHash": "0x123456...",
  "network": "polkadot"
}
```

## Error Codes

| Code | Description |
|------|-------------|
| `AUTH_REQUIRED` | Authentication required |
| `FORBIDDEN` | Insufficient permissions |
| `NOT_FOUND` | Resource not found |
| `VALIDATION_ERROR` | Invalid input data |
| `RATE_LIMITED` | Too many requests |
| `INTERNAL_ERROR` | Server error |

## Testing

Use our sandbox environment for testing:

```
https://sandbox-api.opentribe.io/api/v1
```

Test accounts:
- `alice.rust@example.com` / `password123`
- `bob.ui@example.com` / `password123`
- Test wallet: `5GNJqTPyNqANBkUVMN1LPPrxXnFouWXoe2wNSmmEoLctxiZY`

## Support

- [API Status](https://status.opentribe.io)
- [Discord Community](https://discord.gg/opentribe)
- Email: support@opentribe.io

## Next Steps

- [Authentication Guide](/docs/api/authentication)
- [Bounties API](/docs/api/bounties)
- [Grants API](/docs/api/grants)
- [Webhooks Guide](/docs/api/webhooks)
