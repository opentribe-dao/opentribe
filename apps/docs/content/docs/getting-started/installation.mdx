---
title: Installation
description: Set up your local Opentribe development environment
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Steps, Step } from 'fumadocs-ui/components/steps';
import { Tab, Tabs } from 'fumadocs-ui/components/tabs';

# Installation

Get Opentribe running locally for development or self-hosting.

## Prerequisites

Before getting started with Opentribe, ensure you have:

- **Node.js** v18+ (v22 recommended)
- **pnpm** v8+ (required package manager)
- **PostgreSQL** v15+ (database)
- **Git** (version control)

<Callout type="info">
  Opentribe is a monorepo using Turborepo and pnpm workspaces. pnpm is required - npm and yarn are not supported.
</Callout>

## Quick Start

<Steps>

<Step title="Clone the Repository">

```bash
git clone git@github.com:opentribe-dao/opentribe.git
cd opentribe
```

</Step>

<Step title="Install Dependencies">

```bash
pnpm install
```

This installs dependencies for all packages and apps in the monorepo.

</Step>

<Step title="Set Up Database">

Create a PostgreSQL database:

```bash
createdb opentribe
```

Or using psql:
```sql
CREATE DATABASE opentribe;
```

</Step>

<Step title="Configure Environment Variables">

Create `.env.local` files in each app directory:

<Tabs>
<Tab value="web" label="apps/web/.env.local">

```bash
# Database
DATABASE_URL="postgresql://[user]@localhost:5432/opentribe"

# Auth
BETTER_AUTH_SECRET="generate-random-32-char-string"
BETTER_AUTH_URL="http://localhost:3002"

# API
NEXT_PUBLIC_API_URL="http://localhost:3002"

# Optional: OAuth providers
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""
GITHUB_CLIENT_ID=""
GITHUB_CLIENT_SECRET=""
```

</Tab>

<Tab value="dashboard" label="apps/dashboard/.env.local">

```bash
# Database
DATABASE_URL="postgresql://[user]@localhost:5432/opentribe"

# Auth
BETTER_AUTH_SECRET="same-as-web"
BETTER_AUTH_URL="http://localhost:3002"

# API
NEXT_PUBLIC_API_URL="http://localhost:3002"
```

</Tab>

<Tab value="api" label="apps/api/.env.local">

```bash
# Database
DATABASE_URL="postgresql://[user]@localhost:5432/opentribe"

# Auth
BETTER_AUTH_SECRET="same-as-web"
BETTER_AUTH_URL="http://localhost:3002"

# Subscan (for payment verification)
SUBSCAN_API_KEY="optional-for-payment-verification"

# Email (optional)
RESEND_API_KEY=""
EMAIL_FROM="noreply@opentribe.io"
```

</Tab>
</Tabs>

</Step>

<Step title="Set Up Database Schema">

Navigate to the database package and push the schema:

```bash
cd packages/db
pnpm db:push
```

</Step>

<Step title="Seed Test Data">

The API server must be running before seeding:

```bash
# Terminal 1: Start the API server
pnpm dev

# Terminal 2: Seed the database
pnpm db:seed:auth  # Creates test users with proper auth
pnpm db:seed       # Creates organizations, bounties, etc.
```

</Step>

<Step title="Start Development Servers">

```bash
pnpm dev
```

This starts all services:
- Web: http://localhost:3000
- Dashboard: http://localhost:3001
- API: http://localhost:3002
- Docs: http://localhost:3004

</Step>

</Steps>

## Test Accounts

After seeding, use these accounts to test:

| Email | Password | Role | Description |
|-------|----------|------|-------------|
| `alice.rust@example.com` | `password123` | Builder | Rust developer profile |
| `bob.ui@example.com` | `password123` | Builder | UI/UX designer profile |
| `david.w3f@example.com` | `password123` | Org Admin | Web3 Foundation admin |
| `emma.moonbeam@example.com` | `password123` | Org Admin | Moonbeam admin |
| `admin@opentribe.io` | `admin123` | Superadmin | Platform administrator |

## Project Structure

```
opentribe/
├── apps/
│   ├── web/          # Public website (opentribe.io)
│   ├── dashboard/    # Authenticated dashboard
│   ├── api/          # REST API server
│   └── docs/         # Documentation site
├── packages/
│   ├── auth/         # Better Auth configuration
│   ├── db/           # Prisma schema and client
│   ├── base/         # UI components (shadcn/ui)
│   ├── email/        # Email templates
│   ├── polkadot/     # Blockchain utilities
│   └── types/        # Shared TypeScript types
```

## Common Commands

### Development
```bash
pnpm dev          # Start all services
pnpm build        # Build all packages
pnpm test         # Run tests
pnpm lint         # Lint code
pnpm format       # Format with Biome
```

### Database
```bash
pnpm db:push      # Push schema changes
pnpm db:studio    # Open Prisma Studio
pnpm db:seed      # Seed test data
pnpm migrate      # Format, generate, push schema
```

## Troubleshooting

### Port Conflicts

If ports are already in use, you can change them:

```bash
# apps/web/package.json
"dev": "next dev -p 3005"  # Change port

# Update corresponding NEXT_PUBLIC_API_URL in .env.local
```

### Database Connection Issues

Ensure PostgreSQL is running:

```bash
# macOS with Homebrew
brew services start postgresql@15

# Linux
sudo systemctl start postgresql

# Check connection
psql -U postgres -d opentribe
```

### Authentication Errors

1. Ensure `BETTER_AUTH_SECRET` is the same across all apps
2. Check `BETTER_AUTH_URL` points to the API server
3. For OAuth, ensure redirect URLs are configured correctly

### Missing Dependencies

If you see module not found errors:

```bash
# Clear node_modules and reinstall
pnpm clean
pnpm install

# Rebuild packages
pnpm build --filter=@packages/*
```

### Seed Data Issues

The auth seeder requires the API server to be running:

```bash
# Terminal 1
cd apps/api && pnpm dev

# Terminal 2 (different terminal)
pnpm db:seed:auth
```

## Docker Setup (Optional)

For containerized development:

```yaml
# docker-compose.yml
version: '3.8'

services:
  postgres:
    image: postgres:15
    environment:
      POSTGRES_DB: opentribe
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: postgres
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data

volumes:
  postgres_data:
```

Run with:
```bash
docker compose up -d
```

## Production Deployment

For production deployment:

1. **Database**: Use a managed PostgreSQL service (Neon, Supabase, etc.)
2. **Hosting**: Deploy to Vercel (recommended) or any Node.js host
3. **Environment**: Set production environment variables
4. **Auth**: Configure production OAuth redirect URLs
5. **API**: Ensure CORS is configured for your domains

See our [deployment guide](/docs/deployment) for detailed instructions.

## VS Code Setup

Recommended extensions:

```json
{
  "recommendations": [
    "bradlc.vscode-tailwindcss",
    "prisma.prisma",
    "dbaeumer.vscode-eslint",
    "biomejs.biome",
    "unifiedjs.vscode-mdx"
  ]
}
```

## Next Steps

- [Understand the project structure](/docs/getting-started/project-structure)
- [Configure environment variables](/docs/getting-started/environment-variables)
- [Set up authentication](/docs/setup/authentication)
- [Explore the API](/docs/api/overview)