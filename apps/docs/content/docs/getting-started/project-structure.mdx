---
title: Project Structure
description: Understanding the Turbocamp monorepo architecture and file organization
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Tabs, Tab } from 'fumadocs-ui/components/tabs';

## Overview

Turbocamp is built as a **Turborepo monorepo** with a clear separation of concerns across multiple applications and shared packages. This structure enables efficient development, shared code reuse, and independent deployment.

## Repository Structure

```
turbocamp/
â”œâ”€â”€ ğŸ“ apps/                    # Applications
â”‚   â”œâ”€â”€ ğŸ“ api/                 # Authentication & API server
â”‚   â”œâ”€â”€ ğŸ“ dashboard/           # Main application (SaaS dashboard)
â”‚   â”œâ”€â”€ ğŸ“ web/                 # Marketing website
â”‚   â””â”€â”€ ğŸ“ docs/                # Documentation site
â”‚
â”œâ”€â”€ ğŸ“ packages/                # Shared packages
â”‚   â”œâ”€â”€ ğŸ“ auth/                # Authentication logic & configuration
â”‚   â”œâ”€â”€ ğŸ“ cms/                 # Content management system
â”‚   â”œâ”€â”€ ğŸ“ db/                  # Database schema & migrations
â”‚   â”œâ”€â”€ ğŸ“ email/               # Email templates & utilities
â”‚   â”œâ”€â”€ ğŸ“ ui/                  # Shared UI components
â”‚   â”œâ”€â”€ ğŸ“ config/              # Shared configuration
â”‚   â””â”€â”€ ğŸ“ utils/               # Shared utilities
â”‚
â”œâ”€â”€ ğŸ“„ package.json             # Root package configuration
â”œâ”€â”€ ğŸ“„ turbo.json               # Turborepo configuration
â”œâ”€â”€ ğŸ“„ pnpm-workspace.yaml      # Workspace configuration
â””â”€â”€ ğŸ“„ CLAUDE_PLAN.md           # Development roadmap
```

## Applications (`apps/`)

### API Server (`apps/api/`)

**Purpose:** Primary authentication server and API backend

```
apps/api/
â”œâ”€â”€ ğŸ“ app/
â”‚   â”œâ”€â”€ ğŸ“ api/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ auth/             # Better Auth endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ [...better-auth]/
â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â””â”€â”€ ğŸ“ health/           # Health check endpoint
â”‚   â””â”€â”€ ğŸ“„ layout.tsx
â”‚
â”œâ”€â”€ ğŸ“ lib/
â”‚   â”œâ”€â”€ ğŸ“„ auth.ts              # Better Auth configuration
â”‚   â””â”€â”€ ğŸ“„ utils.ts             # Utility functions
â”‚
â”œâ”€â”€ ğŸ“„ middleware.ts            # Request middleware
â”œâ”€â”€ ğŸ“„ next.config.js           # Next.js configuration
â””â”€â”€ ğŸ“„ package.json             # Dependencies
```

**Key Features:**
- Better Auth implementation
- Cross-domain cookie handling
- CORS configuration
- Rate limiting
- Health monitoring

**Port:** `3002` (development)

### Dashboard App (`apps/dashboard/`)

**Purpose:** Main SaaS application with full authentication pages

```
apps/dashboard/
â”œâ”€â”€ ğŸ“ app/
â”‚   â”œâ”€â”€ ğŸ“ (authenticated)/      # Protected routes
â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/       # Dashboard-specific components
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ user-button.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ sidebar.tsx
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ layout.tsx        # Authenticated layout
â”‚   â”‚   â””â”€â”€ ğŸ“„ page.tsx          # Dashboard home
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ (auth)/              # Authentication routes
â”‚   â”‚   â”œâ”€â”€ ğŸ“ sign-in/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ sign-up/
â”‚   â”‚   â””â”€â”€ ğŸ“„ layout.tsx        # Auth layout
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ api/                  # API routes (auth client)
â”‚       â””â”€â”€ ğŸ“ auth/
â”‚           â””â”€â”€ [...better-auth]/
â”‚
â”œâ”€â”€ ğŸ“ components/              # Shared dashboard components
â”œâ”€â”€ ğŸ“ lib/                     # Dashboard utilities
â”‚   â”œâ”€â”€ ğŸ“„ auth-client.ts       # Better Auth client
â”‚   â””â”€â”€ ğŸ“„ utils.ts
â”‚
â””â”€â”€ ğŸ“„ middleware.ts            # Auth middleware
```

**Key Features:**
- Full authentication pages
- Protected routes with middleware
- User management interface
- Dashboard functionality

**Port:** `3001` (development)

### Web App (`apps/web/`)

**Purpose:** Marketing website with auth modal and redirects

```
apps/web/
â”œâ”€â”€ ğŸ“ app/
â”‚   â”œâ”€â”€ ğŸ“ [locale]/            # Internationalization support
â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/      # Web-specific components
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ auth-forms/  # Auth modal forms
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ sign-in-form.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ sign-up-form.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ header/      # Site header with auth
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ auth-modal.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ blog/            # Blog functionality
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ [slug]/
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ page.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ legal/           # Legal pages
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ [slug]/
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ page.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ lib/             # Web app utilities
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ auth-client.ts
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ utils.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ layout.tsx       # Root layout
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ page.tsx         # Homepage
â”‚   â”‚   â””â”€â”€ ğŸ“„ providers.tsx    # Context providers
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ api/                 # API routes (auth client)
â”‚       â””â”€â”€ ğŸ“ auth/
â”‚           â””â”€â”€ [...better-auth]/
â”‚
â”œâ”€â”€ ğŸ“ public/                  # Static assets
â”‚   â”œâ”€â”€ ğŸ“„ logo.png
â”‚   â””â”€â”€ ğŸ“ images/
â”‚
â””â”€â”€ ğŸ“„ middleware.ts            # Auth detection middleware
```

**Key Features:**
- Marketing pages
- Auth modal with dual experience
- Blog with content collections
- Legal pages
- Internationalization ready

**Port:** `3000` (development)

### Documentation Site (`apps/docs/`)

**Purpose:** Comprehensive documentation using Fumadocs

```
apps/docs/
â”œâ”€â”€ ğŸ“ app/
â”‚   â”œâ”€â”€ ğŸ“ docs/
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ [[...slug]]/     # Dynamic doc pages
â”‚   â”‚   â””â”€â”€ ğŸ“„ layout.tsx       # Docs layout
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ layout.config.tsx    # Fumadocs configuration
â”‚   â”œâ”€â”€ ğŸ“„ layout.tsx           # Root layout
â”‚   â””â”€â”€ ğŸ“„ page.tsx             # Docs homepage
â”‚
â”œâ”€â”€ ğŸ“ content/
â”‚   â””â”€â”€ ğŸ“ docs/                # MDX documentation files
â”‚       â”œâ”€â”€ ğŸ“ getting-started/
â”‚       â”‚   â”œâ”€â”€ ğŸ“„ installation.mdx
â”‚       â”‚   â”œâ”€â”€ ğŸ“„ environment-variables.mdx
â”‚       â”‚   â””â”€â”€ ğŸ“„ project-structure.mdx
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ setup/
â”‚       â”‚   â””â”€â”€ ğŸ“„ authentication.mdx
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ api/
â”‚       â”‚   â””â”€â”€ ğŸ“„ overview.mdx
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ integrations/
â”‚       â”‚   â””â”€â”€ ğŸ“„ mobile.mdx
â”‚       â”‚
â”‚       â””â”€â”€ ğŸ“„ index.mdx        # Main docs page
â”‚
â”œâ”€â”€ ğŸ“ public/                  # Documentation assets
â””â”€â”€ ğŸ“„ source.config.ts         # Content source configuration
```

**Key Features:**
- Fumadocs integration
- MDX content support
- Search functionality
- Responsive design
- Code highlighting

**Port:** `3003` (development)

## Shared Packages (`packages/`)

### Authentication (`packages/auth/`)

**Purpose:** Centralized authentication configuration and utilities

```
packages/auth/
â”œâ”€â”€ ğŸ“„ index.ts                 # Main exports
â”œâ”€â”€ ğŸ“„ auth.ts                  # Better Auth configuration
â”œâ”€â”€ ğŸ“„ client.ts                # Client-side auth utilities
â””â”€â”€ ğŸ“„ types.ts                 # TypeScript types
```

**Exports:**
- Better Auth configuration
- Auth client setup
- TypeScript types
- Utility functions

### Database (`packages/db/`)

**Purpose:** Database schema, migrations, and client

```
packages/db/
â”œâ”€â”€ ğŸ“ prisma/
â”‚   â”œâ”€â”€ ğŸ“„ schema.prisma        # Database schema
â”‚   â””â”€â”€ ğŸ“ migrations/          # Database migrations
â”‚
â”œâ”€â”€ ğŸ“„ index.ts                 # Database client
â”œâ”€â”€ ğŸ“„ migrate.ts               # Migration utilities
â””â”€â”€ ğŸ“„ .env                     # Database configuration
```

**Features:**
- Prisma ORM integration
- PostgreSQL support
- Conditional database setup (local vs cloud)
- Migration management

### Content Management (`packages/cms/`)

**Purpose:** Content collections and blog functionality

```
packages/cms/
â”œâ”€â”€ ğŸ“„ index.ts                 # Content exports
â”œâ”€â”€ ğŸ“„ collections.ts           # Content collections config
â””â”€â”€ ğŸ“„ types.ts                 # Content types
```

**Features:**
- Content Collections integration
- Blog post management
- Legal document handling
- Metadata generation

### UI Components (`packages/ui/`)

**Purpose:** Shared React components and design system

```
packages/ui/
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ“ components/          # React components
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ button.tsx
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ input.tsx
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ modal.tsx
â”‚   â”‚   â””â”€â”€ ğŸ“„ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ styles/              # Shared styles
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ globals.css
â”‚   â”‚   â””â”€â”€ ğŸ“„ components.css
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“„ index.ts             # Main exports
â”‚
â”œâ”€â”€ ğŸ“„ tailwind.config.js       # Tailwind configuration
â””â”€â”€ ğŸ“„ package.json             # UI dependencies
```

**Features:**
- shadcn/ui component library
- Tailwind CSS integration
- Consistent design system
- TypeScript support

### Email Templates (`packages/email/`)

**Purpose:** Email templates and sending utilities

```
packages/email/
â”œâ”€â”€ ğŸ“ templates/               # Email templates
â”‚   â”œâ”€â”€ ğŸ“„ welcome.tsx
â”‚   â”œâ”€â”€ ğŸ“„ reset-password.tsx
â”‚   â””â”€â”€ ğŸ“„ verification.tsx
â”‚
â”œâ”€â”€ ğŸ“„ index.ts                 # Email utilities
â””â”€â”€ ğŸ“„ sender.ts                # Email sending logic
```

**Features:**
- React Email templates
- Resend integration
- Template management
- Type-safe email sending

### Configuration (`packages/config/`)

**Purpose:** Shared configuration files

```
packages/config/
â”œâ”€â”€ ğŸ“„ eslint.config.js         # ESLint configuration
â”œâ”€â”€ ğŸ“„ prettier.config.js       # Prettier configuration
â”œâ”€â”€ ğŸ“„ tailwind.config.js       # Tailwind base config
â””â”€â”€ ğŸ“„ tsconfig.json            # TypeScript base config
```

### Utilities (`packages/utils/`)

**Purpose:** Shared utility functions

```
packages/utils/
â”œâ”€â”€ ğŸ“„ index.ts                 # Main exports
â”œâ”€â”€ ğŸ“„ cn.ts                    # Class name utilities
â”œâ”€â”€ ğŸ“„ dates.ts                 # Date utilities
â””â”€â”€ ğŸ“„ validation.ts            # Validation schemas
```

## Workspace Configuration

### Package Manager (pnpm)

**File:** `pnpm-workspace.yaml`

```yaml
packages:
  - 'apps/*'
  - 'packages/*'
```

**Features:**
- Efficient dependency management
- Workspace linking
- Shared lock file
- Fast installs

### Turborepo Configuration

**File:** `turbo.json`

```json
{
  "pipeline": {
    "build": {
      "dependsOn": ["^build"],
      "outputs": [".next/**", "!.next/cache/**", "dist/**"]
    },
    "dev": {
      "cache": false,
      "persistent": true
    },
    "lint": {
      "dependsOn": ["^lint"]
    },
    "type-check": {
      "dependsOn": ["^type-check"]
    }
  }
}
```

**Benefits:**
- Parallel task execution
- Intelligent caching
- Dependency-aware builds
- Remote caching support

## Development Workflow

### Package Scripts

**Root `package.json` scripts:**

```json
{
  "scripts": {
    "dev": "turbo dev",
    "build": "turbo build",
    "lint": "turbo lint",
    "type-check": "turbo type-check",
    "migrate": "pnpm --filter @turbocamp/db migrate",
    "clean": "turbo clean && rm -rf node_modules"
  }
}
```

### Common Commands

<Tabs>
<Tab title="Development" value="development">
```bash
# Start all applications
pnpm dev

# Start specific app
pnpm dev --filter api
pnpm dev --filter dashboard
pnpm dev --filter web
pnpm dev --filter docs

# Install dependencies
pnpm install

# Run database migrations
pnpm migrate
```
</Tab>
<Tab title="Building" value="building">
```bash
# Build all applications
pnpm build

# Build specific app
pnpm build --filter dashboard

# Type check all packages
pnpm type-check

# Lint all packages
pnpm lint
```
</Tab>
<Tab title="Package Management" value="package-management">
```bash
# Add dependency to specific app
pnpm add react --filter dashboard

# Add dependency to workspace root
pnpm add -w typescript

# Add shared package dependency
pnpm add @turbocamp/ui --filter web

# Remove dependency
pnpm remove lodash --filter api
```
</Tab>
</Tabs>

## File Naming Conventions

### React Components

```typescript
// PascalCase for components
UserButton.tsx
AuthModal.tsx
DashboardLayout.tsx

// camelCase for utilities
authClient.ts
userUtils.ts
apiHelpers.ts

// kebab-case for pages (Next.js convention)
sign-in/page.tsx
user-profile/page.tsx
```

### Directories

```
kebab-case/              # Preferred for directories
camelCase/               # Acceptable for some contexts
PascalCase/              # For component directories only
```

## Import Patterns

### Package Imports

```typescript
// Shared packages (from packages/)
import { Button } from '@turbocamp/ui'
import { db } from '@turbocamp/db'
import { authClient } from '@turbocamp/auth'

// Internal imports
import { UserButton } from './components/user-button'
import { config } from '../lib/config'

// External packages
import { useState } from 'react'
import { cn } from 'clsx'
```

### Path Mapping

**TypeScript configuration includes path mapping:**

```json
{
  "compilerOptions": {
    "paths": {
      "@/*": ["./src/*"],
      "@/components/*": ["./components/*"],
      "@/lib/*": ["./lib/*"]
    }
  }
}
```

## Best Practices

### Code Organization

<Callout type="info" title="Follow these patterns">
- âœ… Keep shared logic in packages
- âœ… App-specific code stays in apps
- âœ… Use consistent naming conventions
- âœ… Group related files together
- âœ… Prefer composition over inheritance
</Callout>

### Package Dependencies

<Callout type="warn" title="Dependency management">
- âœ… Shared dependencies go in packages
- âœ… App-specific dependencies stay in apps
- âœ… Keep package.json files clean
- âœ… Use peer dependencies wisely
- âœ… Regular dependency updates
</Callout>

### Development Tips

1. **Hot Reloading**: Changes in packages automatically trigger rebuilds
2. **Type Safety**: Shared types ensure consistency across apps
3. **Caching**: Turborepo caches build outputs for faster subsequent builds
4. **Parallel Development**: Multiple developers can work on different apps simultaneously

### Common Patterns

**Sharing Components:**
```typescript
// In packages/ui/src/components/button.tsx
export const Button = ({ children, ...props }) => (
  <button {...props}>{children}</button>
)

// In apps/web/components/hero.tsx
import { Button } from '@turbocamp/ui'
```

**Sharing Utilities:**
```typescript
// In packages/utils/src/dates.ts
export const formatDate = (date: Date) => {
  // utility implementation
}

// In apps/dashboard/lib/helpers.ts
import { formatDate } from '@turbocamp/utils'
```

**Sharing Types:**
```typescript
// In packages/auth/src/types.ts
export interface User {
  id: string
  email: string
  name: string
}

// In apps/dashboard/components/user-button.tsx
import type { User } from '@turbocamp/auth'
```

## Troubleshooting

### Common Issues

<Callout type="error" title="Build issues">
- âœ… Run `pnpm install` after pulling changes
- âœ… Clear Turborepo cache: `turbo clean`
- âœ… Check dependency versions in package.json
- âœ… Verify TypeScript paths are correct
</Callout>

<Callout type="error" title="Import errors">
- âœ… Check package is listed in dependencies
- âœ… Verify export exists in target package
- âœ… Ensure TypeScript paths are configured
- âœ… Restart TypeScript language server
</Callout>

### Debug Commands

```bash
# Check workspace dependencies
pnpm list --depth=0

# Verify package linking
pnpm why @turbocamp/ui

# Check Turborepo configuration
turbo run build --dry-run

# Clear all caches
turbo clean && rm -rf node_modules && pnpm install
```

<Callout type="info">
  **ğŸ—ï¸ Architecture Ready!** This monorepo structure provides a solid foundation for scalable development with clear separation of concerns and efficient tooling.
</Callout>